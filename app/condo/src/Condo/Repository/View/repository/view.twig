{% extends 'Pckg/Generic/View/frontend.twig' %}

{% block content %}
    <condo-repository-view></condo-repository-view>
{% endblock %}

{% block nonvue %}
    <script type="text/x-template" id="condo-repository-view-template">
        <div class="condo-repository-add-component">
            <h2>${ repository.name }</h2>
            <table class="table table-condensed table-striped table-hover">
                <thead>
                <tr>
                    <th>Branch</th>
                    <th>Author</th>
                    <th>Commit</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="branch in branches">
                    <td>${ branch.branch }</td>
                    <td></td>
                    <td></td>
                </tr>
                </tbody>
            </table>
        </div>
    </script>
    <script>
        Vue.component('condo-repository-view', {
            template: '#condo-repository-view-template',
            mixins: [pckgDelimiters],
            data: function () {
                return {
                    repository: {{ repository.toJSON() | raw }},
                    branches: {{ branches | json_encode | raw }}
                };
            }
        });
    </script>
{% endblock %}